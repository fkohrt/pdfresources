\PassOptionsToPackage{enable-debug,check-declarations}{expl3}
\RequirePackage[debug]{pdfresources}
\DeclareDocumentMetadata { }
\input{regression-test}
\documentclass{article}
\begin{document}
\START
some text
\ExplSyntaxOn
 \pdfcoredict_gput:nnn {Page} {Rotate}{90}
%test local:
{\pdfcoredict_gput:nnn {Page} {CropBox}{[0~0~300~350]}}

%test doublette
 \pdfcoredict_gput:nnn {Page} {Rotate}{90}

%test command:
\newcommand\attributecontent{(somesetting)}
\pdfcoredict_gput:nnx {Page} {SSS}{\attributecontent}

\newpage
\pdfcoredict_gremove:nn {Page}{Rotate}
\pdfcoredict_gremove:nn {Page}{CropBox}
some text more text
\begin{figure}[p]
\rule{1cm}{15cm}
\pdfcoredict_gput:nnn {ThisPage}{Rotate}{-90}
\end{figure}
\newpage
abbb
\ExplSyntaxOff
\end{document} 