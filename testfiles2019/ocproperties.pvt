\PassOptionsToPackage{enable-debug,check-declarations}{expl3}
\RequirePackage[debug]{pdfresources}
\DeclareDocumentMetadata
 {
   pdfversion=1.7, %not so good with pdftex ...
   lang=de-DE,
   uncompress
 }
\input{regression-test}
\documentclass{article}
\usepackage{pdfresources}
\ExplSyntaxOn
%some senseless additions to test the commands
\pdf_object_new:nn {ocg1}{dict}
\pdf_object_write:nn {ocg1}
 {/Type/OCG
  /Name(View)
  /Usage
    <<
    /Print
      <<
       /PrintState/OFF
      >>
    /View
      <<
       /ViewState/ON
      >>
    >>}


\pdf_object_new:nn {ocg2}{dict}
\pdf_object_write:nn {ocg2}
 {/Type/OCG
  /Name(View)
  /Usage<<
    /Print
      <<
       /PrintState/ON
      >>
    /View<<
       /ViewState/OFF
         >>
    >>
  }

\pdf_object_new:nn   {ocgd}{dict}
\pdf_object_write:nn {ocgd}
 {
  /OFF /Blabla
 }

\pdf_catalog_gput:nn {OCProperties/OCGs}{ocg1}
\pdf_catalog_gput:nn {OCProperties/OCGs}{ocg2}
\pdf_catalog_gput:nn {OCProperties/D}{ocgd}

\ExplSyntaxOff

\begin{document}
abc
\end{document}
