% !Mode:: "TeX:DE:UTF-8:Main"



\documentclass{article}
\usepackage{expl3}

\usepackage{pdfresources}

%don't compress pdf:
\ExplSyntaxOn
\driver_pdf_compresslevel:n {0}
\driver_pdf_objects_disable:
\ExplSyntaxOff
\usepackage{xcolor}
\showthe\luatexversion
\makeatletter
\@namedef{Hy@pdfversion@2.0}{10}%
\makeatother%
\usepackage[customdriver=hluatex-experimental,ocgcolorlinks,pdfversion=2.0]{hyperref}

%%\tracingmacros=1
\hypersetup{urlcolor=blue,linkbordercolor=blue,pdfborder={1 1 1},pdfprintpagerange=0}
%%%\makeatletter
\hypupdateattribute
\makeatletter%\tracingmacros=1
\textwidth=5cm
\begin{document}
\makeatletter%\show\Hy@pstringdef

abc%\end{document}
\ExplSyntaxOn
\tl_set:Nx\l_tmpa_tl
 {
  LuaTeX-
   \int_div_truncate:nn{\luatexversion}{100}.
   \int_compare:nNnT {\int_mod:nn{\luatexversion}{100}}<{10}{0}
   \int_mod:nn{\luatexversion}{100}.
   \luatexrevision
 }
\tl_show:N\l_tmpa_tl 

\driver_pdf_link_begin_user:nnw{}{/A<</Type/Action/S/URI/URI(www.blub.de)>>}
\driver_pdf_link_end:

\driver_pdf_link_begin_goto:nnw{}{Dest} xxx\driver_pdf_link_end:
\PackageInfo{test}{\string\pdf_version_gset:n{<\driver_pdf_version_major:.\driver_pdf_version_minor:}}

%\ExplSyntaxOff
%\end{document}
%\ifnum \driver_pdf_version_minor: = 5 XXXXXXXXX \else YYYYYYY\fi


\hook_put:nnnn
     { pdf }
     { link_begin_url_attr }
     { /C }
     { [1~0~0] }

\hook_put:nnnn
       { pdf }
       { link_begin_url_attr }
       { /Border }
       { [1~1~1] }
\driver_pdf_link_margin:n {1pt}
xx\pdf_link_user:nnn {url}{/A<</Type/Action/S/URI/URI(www.blub.de)>>}{blbl\\blb\par blub}

\par\bigskip
xxx
\driver_pdf_link_begin_user:nnw
 {/C~[1~0~0]
 /Border [0.5~0.5~0.5]}
 {/A<</Type/Action/S/URI/URI(www.blub.de)>>}
 long~text~text~text~text~text~text~text~text
\driver_pdf_link_end: 

\url{www.blubblubblub.de}
\section{a}\label{a}
\ref{a}
\ExplSyntaxOff
\Acrobatmenu{Find}{Find}
%\hyperlink{blblb}{yabc\\xye\\abc}
\end{document}
\section{a}\label{a}
\ref{a}
\newpage
blblb
\end{document}
%test driver link.
\url{www.blub.de}

%3 0 obj
%<< /Type /Annot /Border[1 1 1]/H/I/C[0 1 1] /Rect [ 147.716 656.179 207.243 664.319 ]
% /Subtype/Link/A<</Type/Action/S/URI/URI(www.blub.de)>>
% >>
%endobj
\leavevmode
\ExplSyntaxOn
\driver_pdf_link_begin_user:nnw
 {
  /Border~[0~0~1]
 }
 {
  /Subtype/Link~
       /A<<
         /Type/Action~
         /S/URI~
         /URI~(http://www.latex-project.org)%
       >>
 }
  some link
\driver_pdf_link_end:
\ExplSyntaxOff

blub
\end{document} 