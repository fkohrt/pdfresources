\PassOptionsToPackage{enable-debug,check-declarations}{expl3}
\RequirePackage[debug]{pdfresources}
\DeclareDocumentMetaData
 {
   pdfversion=2.0, %
   lang=de-DE,
   uncompress
 }
\ExplSyntaxOn
%%% for reproducible tests:
\pdfgdict_gput:nnn {Info}{CreationDate}{(D:20200202111111+01'00')}
\pdfgdict_gput:nnn {Info}{ModDate}{(D:20200202111111+01'00')}
\pdfgdict_gput:nnn {Info}{Creator}{(l3build test)}
%%%%%
\ExplSyntaxOff
\input{regression-test}
\documentclass{article}
\usepackage{xcolor}
\usepackage[customdriver=hgeneric-experimental]{hyperref}
\hypersetup{pdfmoddate={D:20200202111111+01'00'},pdfcreationdate={D:20200202111111+01'00'}}
\hypersetup{urlcolor=red,pdfborder={1 1 1},linkbordercolor=yellow}


%add hooks:
\ExplSyntaxOn\makeatletter
\hook_gput_code:nnn
 {pdf/annot/Link/URI/before}
 { pdf }
 {
  begin~url
 }

 \pdfdict_put:nnn
   {annot/Link/URI}
   { StructParent }
   { 123 }

\hook_gput_code:nnn
 {pdf/annot/Link/URI/after}
 { pdf }
 {
  end~url
 }

\pdfdict_put:nnn
   {annot/Link/URI}
   { Contents }
   { (url) }

 \pdfdict_put:nnn
   {annot/Link/GoTo}
   { Contents }
   { (ref) }


\ExplSyntaxOff
\begin{document}
\href{www.dante.de}{link}

\section{section}\label{test}
\ref{test}

\end{document} 