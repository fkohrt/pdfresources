% !Mode:: "TeX:UTF-8:Main"

\PassOptionsToPackage{enable-debug,check-declarations}{expl3}
\RequirePackage[debug]{pdfresources}
%\input{regression-test}
\documentclass{article}
\usepackage{lmodern}
\usepackage{l3pdf}
\ExplSyntaxOn
\pdf_uncompress:
\ExplSyntaxOff
\renewcommand\large{%
   \fontsize{1.5cm}{2cm}\selectfont}
\renewcommand\floatpagefraction{0.2}   
\begin{document}\showoutput
\makeatletter
\ExplSyntaxOn
\large blub

\begin{figure}[p]
\pdf_thispageattr_gput:nn{Rotate}{\ifodd\c@page -90\else 90 \fi}
\large
12345678 \par
code~is~on~page~\thepage\par 
\rule{1cm}{10cm}
\end{figure}

\begin{figure}[p]
\pdf_thispageattr_gput:nn{Rotate}{\ifodd\c@page -90\else 90 \fi}
\large
12345678 \par
code~is~on~page~\thepage\par 
\rule{1cm}{10cm}
\end{figure}
\newpage
12345678 \par
code~is~on~page~\thepage\par 
\pdf_thispageattr_gput:nn{Rotate}{90}
\ExplSyntaxOff
\end{document} 

\begin{figure}[p]
\rule{1cm}{15cm}
\pdf_thispageattr_gput:nn{Rotate}{-90}
\end{figure}
